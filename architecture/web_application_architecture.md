---
description: 웹 애플리케이션 및 소프트웨어 아키텍처
---

# 소프트웨어 아키텍처의 다양한 계층

## Intro

- 앱이든 웹이든 관련 애플리케이션을 구축하기 위해서 또는 내가 개발 및 운영해야 하는 프로젝트를 잘 분석하기 위해서 공부해둬야 할 내용들을 간단하게 정리해본다.

## 다양한 계층의 소프트웨어 아키텍처

- 계층이란 뭘까?
- 소프트웨어 애플리케이션의 계층이 다양한 이유는 뭘까?
- 구축하고자 하는 애플리케이션을 설계하려는 경우 어떤 계층을 선택해야 할까?

### 계층이란?

- 응용 프로그램 또는 서비스의 구성 요소를 논리적으로 분리하는 것이다.
- 분리한다는 것이 `코드` 레벨에서가 아니라 `구성요소` 레벨의 물리적 분리를 의미한다.
- 여기서 말하는 구성요소란 데이터베이스, 백엔드 서버, 사용자 인터페이스, 메시징, 캐싱 등이 있다.

## 단일 계층 애플리케이션(Single Tier Application)

- 사용자 인터페이스와 비즈니스 로직을 갖는 백엔드 그리고 데이터베이스가 하나의 컴퓨터 내에 존재하는 것을 의미한다.
- 단일 계층 애플리케이션의 일반적인 예로는 오피스, PC 게임과 같은 데스크톱 애플리케이션 같은 소프트웨어가 있다.

> **단일 계층 애플리케이션의 장점**

- 모든 구성요소가 동일한 시스템에 있기 때문에 네트워크 대기시간이 없다.
- 백엔드 서버에 대한 데이터 요청이 중지되어 사용자 경험이 느려진다.
- 대신 데이터를 쉽고 빠르게 사용할 수 있다.
- 단일 계층 앱의 성능은 소프트웨어가 위치하는 하드웨어 성능에 따라 크게 좌우된다.

> **단일 계층 애플리케이션의 단점**

- 단일 계층 앱의 큰 단점은 비즈니스 서버가 존재하는 백엔드에서 애플리케이션을 제어할 수 없다.
- 소프트웨어가 사용자의 컴퓨터에 있으면 원격 서버에 연결하거나 패치를 다운로드 및 설치하여 수동으로 업데이트할 때까지 코드나 기능을 변경할 수 없다.
- 단일 계층 앱의 코드가 reversed engineering 되기 쉽다.

## 2계층 애플리케이션

- 클라이언트와 서버를 포함하는 응용 프로그램
- 사용자 인터페이스와 비즈니스 로직을 갖는 **클라이언트**와 데이터베이스을 갖는 **백엔드 서버**로 나눌 수 있다.

- 2계층 애플리케이션이 필요한 이유는 뭘까?
- 다른 시스템에서 비즈니스 로직을 호스팅하고 제어하지 않는 이유는 뭘까?
- 2계층 애플리케이션을 갖는 응용프로그래밍 코드는 제 3자의 액세스에 취약하지 않을까?

> **2계층 애플리케이션의 필요성**

- 생산성을 위한 앱의 경우 2계층 애플리케이션으로 구축하는게 편리할 수 있다.
- 생산성을 위한 앱의 사례로는 플래너, Todo-List와 같은 앱이 있다.

- 이와 같은 경우
	- 제 3자라 코드에 접근 하더라도 비즈니스에 심각한 피해를 주지 않는다.
	- 반대로 코드와 사용자 인터페이스가 동일한 시스템에 있기 때문에 백엔드 서버에 대한 네트워크 호출이 적어 애플리케이션의 대기시간을 낮게 유지 한다는 장점이 있다.
	- 이 앱은 사용자가 모둔 작업을 마친 후에 변경사항을 유지하려는 경우에만 데이터베이스 서버를 호출하기 때문이다.

- 서버 호출이 적으면 서버에 지출해야 하는 비용이 적어져 비용 효율적이다.

## 3계층 애플리케이션

- 일반적으로 사용되는 계층으로 단순한 웹사이트가 이러한 범주에 속한다.
- 사용자 인터페이스, 애플리케이션 로직 및 데이터베이스가 모두 다른 계층에 물리적으로 분리되어 있다.

## N계층 애플리케이션

- 세 개 이상의 구성요소가 있는 응용 프로그램
- N 계층으로 구축 될 때의 구성요소는 캐시, 비동기 처리를 위한 메시지 큐, 로드 밸런서, 대용량 데이터 검색을 위한 검색 서버, 데이터 처리를 위한 구성요소, 웹 서비스로 알려진 이기종 기술을 실행하는 구성요소
- N 계층 앱을 다른 이름으로 분산 응용 프로그램이라고도 한다.

> **N 계층 애플리케이션을 구축하는 이유?**

- **단일 책임 원칙**
	- 단순하게 구성 요소에 하나의 책임만 부여하고, 데이터의 저장, 애플리케이션의 논리적인 실행 또는 시스템 전체의 메시지 전달을 보장하도록 실행하는 것을 의미한다.

- 이러한 접근 방식은 애플리케이션의 기능에 대한 유연성을 제공하고 데이터베이스 서버에 대한 관리를 더 용이하게 한다.
- 특정 하나의 계층에 대한 애플리케이션이 변경되는 경우, 다른 계층의 구성요소에 영향을 주지 않는다.
- 각각의 구성요소에 대한 팀과 코드 관리를 따로 관리 할 수 있기 때문에 관리적인 측면에서 용이하다.

> **관심사의 분리**

- 구성 요소를 분리하여 관리하면 재사용이 가능하다.
- 서로 밀접하게 결합되지 않는 한 다른 서비스는 동일한 데이터베이스, 메시징 서버 등을 사용할 수 있다.
- 느슨하게 결합된 구성 요소를 사용하면 향후 프로젝트가 발전하여 특정 수준 이상으로 성장할 때 서비스를 쉽게 확장할 수 있다.

> **레이어(later)와 계층(tier)의 차이점**

- 레이어는 코드 수준 구성에 대한 **개념적인 분리**를 정의할 수 있지만, 계층은 구성요소의 **물리적 분리**를 나타낸다.
- 모든 레이어의 구성은 어떤 계층에도 적용이 가능한 논리적인 부분이다.

## 요약

- **계층이란?**
	- 응용 프로그램 또는 서비스에서 구성요소를 논리적으로 분리한 것이다.
	- 구성 요소는 데이터베이스, 백엔드 애플리케이션 서버, 사용자 인터페이스, 메시징 및 캐싱이 포함될 수 있다.
- **단일 계층 아키텍처를 선택하여 사용하기 위한 목적은?**
	- 모든 구성요소가 동일한 시스템에 존재하여 빈번한 네트워크 통신이 필요없는 경우 (네트워크 대기시간이 없다)
- **2계층 아키텍처를 선택하는 이유**
	- 비즈니스 로직이 클라이언트에 있을 때 백엔드 서버에 대한 네트워크 호출이 적어 애플리케이션의 대기 시간을 낮게 유지할 수 있다.
	- 애플리케이션의 모든 데이터는 비즈니스에서 호스팅하는 데이터베이스 서버에 저장되는데 비즈니스는 데이터베이스 구성요소를 완전하게 제어할 수 있다.
- **3계층 아키텍처를 선택하는 이유**
	- 비즈니스 로직은 백엔드 서버에 있고, 어떤 클라이언트도 백엔드 서버의 비즈니스 코드에 액세스 할 수 없으므로 코드가 안전하게 보호된다.
	- 애플리케이션의 모든 데이터는 비즈니스에서 호스팅하는 데이터베이스 서버에 저장된다.
	- 비즈니스는 데이터베이스 구성요소를 완전하게 제어할 수 있다.
- **소프트웨어 응용 프로그램의 계층이 다양하게 존재하는 이유는?**
	- 개별적인 구성 요소에 특정 작업을 할당하기 위해서 느슨하게 결합된 아키텍처가 용이하다.
	- 특정 구성요소에 대한 수정 또는 업데이트는 다른 구성요소에 영향을 미치지 않는다.
	- 각각의 역할이 지정된 여러 계층은 시스템 전체를 쉽게 유지 관리가 가능하다.
	- 구성 요소가 느슨하게 결합되고 한 구성 요소에서 수행된 코드 변경이 다른 구성요소에 영향을 미치지 않으므로 애플리케이션에 새 기능을 추가하는 것이 더 쉽다.
- **애플리케이션의 레이어(layer)와 계층(tier)의 의미는?**
	- 계층(tier)은 응용 프로그램 또는 서비스에서 구성 요소를 논리적으로 분리한 것이다.
	- 구성 요소는 데이터베이스, 백엔드 애플리케이션 서버, 사용자 인터페이스, 메시징 및 캐싱 등등이 있다.
	- 응용 프로그램의 레이어(layer)는 코드 수준에서의 논리적 분리를 의미한다.
	- 레이어는 사용자 인터페이스 레이어, 비즈니스 레이어, 서비스 레이어 및 데이터 액세스 레이어등이 있다.
